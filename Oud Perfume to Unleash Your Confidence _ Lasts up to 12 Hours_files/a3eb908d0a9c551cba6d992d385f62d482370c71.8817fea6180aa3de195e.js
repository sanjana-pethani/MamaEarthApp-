(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{F0gF:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var a=r("q1tI"),n=r.n(a).a.createContext(),o=n.Provider,i=(n.Consumer,n)},St1b:function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),n=r("vJKn"),o=r.n(n),i=r("rg98"),l=r("q1tI"),c=r("F0gF"),u=r("20a2"),s=r("sCDx"),d=r("p18s"),v=r("vDqi"),f=r.n(v),_=r("/MKj"),p=r("unn2"),m=r("peh1"),b=r("5ihv"),g=r("v6RR"),h=r("qfmX"),O=r("ANjH"),j=r("OgSh"),w=r("0x1g"),y=d.a.apiUrl,S=Object(m.createStructuredSelector)({userInfo:Object(b.o)(),userId:Object(g.o)(),isLoggedIn:Object(g.d)()});t.default=Object(_.b)(S,(function(e){return{successReferral:Object(O.b)(w.successReferral,e)}}))((function(e){var t,r,n,d=e.children,v=e.userInfo,_=e.successReferral,m=(e.isLoggedIn,e.userId),b=Object(l.useState)(!1),g=b[0],O=b[1],w=Object(l.useState)(!1),S=(w[0],w[1],Object(l.useState)(null)),k=S[0],I=S[1],R=Object(l.useState)([]),C=R[0],x=R[1],A=Object(l.useState)(!1),D=A[0],P=A[1],E=Object(l.useState)(),H=E[0],M=E[1],N=Object(l.useState)(),T=N[0],U=N[1],F=Object(l.useState)(),J=F[0],G=F[1],W=localStorage.getItem("pwaState"),q=W?JSON.parse(W):null,L=null===q||void 0===q||null===(t=q.account)||void 0===t||null===(r=t.data)||void 0===r||null===(n=r.userInfo)||void 0===n?void 0:n.id,V=localStorage.getItem("customer_id"),B=V&&JSON.parse(V),K=Object(u.useRouter)(),z="https://mamaearth.in";z=window.location.origin;var X="".concat(z,"/referral/").concat(null===k||void 0===k?void 0:k.referralCode,"/").concat(null===k||void 0===k?void 0:k.userName),Q=K.asPath;console.log("pageName",Q);var Y="Hey!\ud83d\udc4b\ud83c\udffb \r\nI\u2019m gifting you \u20b9".concat(null===k||void 0===k?void 0:k.referredUserAmount," to buy the toxin-free and made-safe certified products at Mamaearth.\r\n\r\nWhat's more? \ud83e\udd11 \r\nI will also get \u20b9").concat(null===k||void 0===k?void 0:k.userAmount," Mamacash when you make a purchase.\r\n\r\nWhat else? As Natural as their products are , they also plant trees whenever you place an order.\ud83c\udf33\ud83c\udf33\r\n\r\nWhat could be better?\r\n\r\nUse my link to join the goodness tribe now ").concat(X," \r\n\r\nOr\r\n\r\nSignup on Mamaearth using my code: ").concat(null===k||void 0===k?void 0:k.referralCode);Object(l.useMemo)(Object(i.a)(o.a.mark((function e(){var t,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L&&!B){e.next=13;break}return t="".concat(y,"/users/getUserReferralCode"),e.prev=2,e.next=5,f.a.post(t,{customerId:L||B},{headers:Object(s.a)()});case 5:a=e.sent,I(null===a||void 0===a?void 0:a.data),localStorage.setItem("referAmount",null===a||void 0===a||null===(r=a.data)||void 0===r?void 0:r.userAmount),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("Error in Fetching Referal Code",e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])}))),[L,B]),Object(l.useEffect)((function(){"/referAndEarn"===K.asPath&&(Object(h.b)("view_referral_page",null===v||void 0===v?void 0:v.id),Object(j.b)("view_referral_page_ga4",null===v||void 0===v?void 0:v.id))}),[]),Object(l.useMemo)(Object(i.a)(o.a.mark((function e(){var t,r,a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=14;break}return t="".concat(y,"/users/getReferralHistory"),e.prev=2,e.next=5,f.a.post(t,{customerId:null===v||void 0===v?void 0:v.id,userId:m},{headers:Object(s.a)()});case 5:i=e.sent,x(null===i||void 0===i||null===(r=i.data)||void 0===r?void 0:r.referralHistory),M(null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.referralHistory),U(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.successfulReferralReward),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log("Error in Fetching Referal history",e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])}))),[v,D]);var Z={showAnswer:g,setShowAnswer:O,displayInstructions:function(){O(!g),!g&&Object(h.b)("select_how_it_works_opened",(null===v||void 0===v?void 0:v.id)||B),!g&&Object(j.b)("select_how_it_works_opened_ga4",(null===v||void 0===v?void 0:v.id)||B),g&&Object(h.b)("select_how_it_works_closed",(null===v||void 0===v?void 0:v.id)||B),g&&Object(j.b)("select_how_it_works_closed_ga4",(null===v||void 0===v?void 0:v.id)||B)},ShareOptions:function(){var e=Object(i.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=navigator)||void 0===t||!t.share){e.next=14;break}return r={title:"Mamaearth",text:Y},Object(h.a)(null!==Q&&void 0!==Q&&Q.includes("referAndEarn")?"share_using_more_options_referral_page":"share_using_more_options",null===k||void 0===k?void 0:k.referralCode),Object(j.a)(null!==Q&&void 0!==Q&&Q.includes("referAndEarn")?"share_using_more_options_referral_page_ga4":"share_using_more_options_ga4",null===k||void 0===k?void 0:k.referralCode),e.prev=4,e.next=7,navigator.share(r);case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(4),console.log(e.t0),Object(h.a)("more_options_error",null===k||void 0===k?void 0:k.referralCode),Object(j.a)("more_options_error_ga4",null===k||void 0===k?void 0:k.referralCode);case 14:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),copyToClipboard:function(){navigator.clipboard.writeText(Y).then((function(){p.a.success("Successfuly copied")})).catch((function(){p.a.error("Something went wrong")})),Object(h.a)(null!==Q&&void 0!==Q&&Q.includes("referAndEarn")?"copy_code_clicked_referral_page":"Copy_Code_Clicked",null===k||void 0===k?void 0:k.referralCode),Object(j.a)(null!==Q&&void 0!==Q&&Q.includes("referAndEarn")?"copy_code_clicked_referral_page_ga4":"Copy_Code_Clicked_ga4",null===k||void 0===k?void 0:k.referralCode)},referralData:k,handleBackButton:function(){history.back()},referalHistory:C,setShowReferalHistory:P,showReferalHistory:D,completeStatusReferal:function(){Object(h.b)("select_completed_referral_filter",null===v||void 0===v?void 0:v.id),Object(j.b)("select_completed_referral_filter_ga4",null===v||void 0===v?void 0:v.id),Object(h.b)("select_referral_filter",null===v||void 0===v?void 0:v.id),Object(j.b)("select_referral_filter_ga4",null===v||void 0===v?void 0:v.id),G(null===C||void 0===C?void 0:C.filter((function(e){return 1===(null===e||void 0===e?void 0:e.ref_success_status)})))},pendingStatusReferal:function(){Object(h.b)("select_pending_referral_filter",null===v||void 0===v?void 0:v.id),Object(j.b)("select_pending_referral_filter_ga4",null===v||void 0===v?void 0:v.id),Object(h.b)("select_referral_filter",null===v||void 0===v?void 0:v.id),Object(j.b)("sselect_referral_filter_ga4",null===v||void 0===v?void 0:v.id),G(null===C||void 0===C?void 0:C.filter((function(e){return 0===(null===e||void 0===e?void 0:e.ref_success_status)})))},setReferStatusDetail:M,referStatusDetail:H,closeReferalHistoryPopUp:function(){P(!1)},totalReward:T,viewReferalHistory:function(){P(!0),Object(h.b)("select_referral_history",null===v||void 0===v?void 0:v.id),Object(j.b)("select_referral_history_ga4",null===v||void 0===v?void 0:v.id)},whatsAppShare:function(){Object(h.a)(null!==Q&&void 0!==Q&&Q.includes("referAndEarn")?"share_using_whatsapp_referral_page":"share_using_whatsapp",null===k||void 0===k?void 0:k.referralCode),Object(j.a)(null!==Q&&void 0!==Q&&Q.includes("referAndEarn")?"share_using_whatsapp_referral_page_ga4":"share_using_whatsapp_ga4",null===k||void 0===k?void 0:k.referralCode)},referalWidgetView:function(e){e&&(Object(h.b)("Referral_Widget_Viewed",(null===v||void 0===v?void 0:v.id)||B),Object(j.b)("Referral_Widget_Viewed_ga4",(null===v||void 0===v?void 0:v.id)||B))},redirectionLink:X,pageName:Q,closeSuccessReferalPopUp:function(){_(!1),Object(h.b)("select_referral_affirmation",null===v||void 0===v?void 0:v.id),Object(j.b)("select_referral_affirmation_ga4",null===v||void 0===v?void 0:v.id)},textMessage:Y,setFilterReferalData:G,filterReferalData:J};return Object(a.jsx)(c.a,{value:Z,children:d})}))},k4J2:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"f",(function(){return d})),r.d(t,"c",(function(){return v})),r.d(t,"g",(function(){return f})),r.d(t,"b",(function(){return _}));var a=r("cpVT"),n=r("vck4"),o=r("8pPp");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){var r=Object(o.a)();n.a.push({event:"customer_type",customer_type_analytics:e,page:t}),n.a.push({event:"customer_type_ga4",parameter1:e}),null===r||void 0===r||r.track_event("customer_type",{platform:"mewebsite",timeStamp:(new Date).getTime(),customerType:e,page:t})}function u(e,t){var r=Object(o.a)();n.a.push({event:"is_GI",is_GI_analytics:e,page:t}),n.a.push({event:"is_GI_ga4",parameter1:e}),null===r||void 0===r||r.track_event("is_GI",{platform:"mewebsite",timeStamp:(new Date).getTime(),GI_Status:e})}function s(e,t){var r=Object(o.a)();n.a.push({event:"customer_id",customer_id_analytics:e,page:t}),n.a.push({event:"customer_id_ga4",parameter1:e}),null===r||void 0===r||r.track_event("customer_id",{platform:"mewebsite",timeStamp:(new Date).getTime(),customer_id:e})}function d(e,t){var r=Object(o.a)();n.a.push({event:"logged_in",is_logged_in_analytics:e,page:t}),n.a.push({event:"logged_in_ga4",parameter1:e}),null===r||void 0===r||r.track_event("logged_in",{platform:"mewebsite",timeStamp:(new Date).getTime(),isLoggedIn:e})}function v(e,t){var r=Object(o.a)();n.a.push({event:"cart_id",cart_id_analytics:e,page:t}),n.a.push({event:"cart_id_ga4",parameter1:e}),null===r||void 0===r||r.track_event("cart_id",{platform:"mewebsite",timeStamp:(new Date).getTime(),cartId:e})}function f(e,t){var r=null===e||void 0===e?void 0:e.split("?"),a=Object(o.a)(),i={utm_medium:(null===t||void 0===t?void 0:t.utm_medium)||null,utm_source:(null===t||void 0===t?void 0:t.utm_source)||null,utm_term:(null===t||void 0===t?void 0:t.utm_term)||null,utm_campaign:(null===t||void 0===t?void 0:t.utm_campaign)||null};n.a.push(l(l({event:"utm_parameters",utm_params:r[1]||null},i),{},{page:e})),n.a.push(l(l({event:"utm_parameters"},i),{},{parameters:r[1]||null})),null===a||void 0===a||a.track_event("utm_parameters",{platform:"mewebsite",timeStamp:(new Date).getTime(),utm_params:r[1]||null})}function _(e,t,r){n.a.push({event:e,category:"My-Account",action:t,label:r}),n.a.push({event:e+"_GA4",parameter1:"My-Account",parameter2:t,parameter3:r})}},xcJU:function(e,t,r){"use strict";var a=r("vOnD"),n=r("ufqH");t.a=a.d.div.withConfig({displayName:"Overlay",componentId:"sc-gr01yv-0"})([""," position:fixed;background-color:#403f3f;background-image:",";z-index:",";visibility:",";opacity:",";transition:opacity 0.2s ease-in;"],Object(n.a)(),(function(e){var t=e.showCouponAppliedPopUp,r=e.mefeBenefits;return t&&!r&&"url('https://images.mamaearth.in/coupon-success.gif')"}),(function(e){return e.cartOpen?100:5}),(function(e){return e.open?"visible":"hidden"}),(function(e){return e.open?.8:0}))}}]);